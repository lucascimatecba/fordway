<div class="quiz-container container vh-100 d-flex flex-column justify-content-center align-items-center">

  <!-- Tela inicial -->
  <div *ngIf="quizStep === 'start'" class="text-center p-4">
    <h1 class="mb-3">Descubra o seu Ford ideal</h1>
    <p class="mb-4">Responda algumas perguntas para encontrarmos o veículo perfeito para você!</p>
    <button class="btn btn-primary btn-lg" (click)="proximo()">Começar</button>
  </div>

  <!-- Perguntas -->
  <div *ngIf="typeof quizStep === 'number'" class="w-100">
    <h4 class="text-center mb-4">{{ perguntas[quizStep].texto }}</h4>

    <div class="row justify-content-center">
      <div
        *ngFor="let opcao of perguntas[quizStep].opcoes; let i = index"
        class="col-6 col-md-4 mb-3 text-center border rounded p-3"
        [class.border-primary]="respostaAtiva(opcao, quizStep)"
        style="cursor: pointer;"
        (click)="selecionarResposta(opcao, quizStep)"
      >
        <img
          *ngIf="perguntas[quizStep].imagens && perguntas[quizStep].imagens[i]"
          [src]="'assets/imgs/' + perguntas[quizStep].imagens[i]"
          [alt]="opcao"
          class="img-fluid mb-2"
          style="max-height: 100px; object-fit: contain;"
        />
        <div>{{ opcao }}</div>
      </div>
    </div>

    <div class="d-flex justify-content-between mt-4">
      <button class="btn btn-outline-primary" (click)="anterior()" [disabled]="quizStep === 0">Anterior</button>
      <button class="btn btn-primary" (click)="proximo()">Próxima</button>
    </div>
  </div>

  <!-- Resultado -->
  <div *ngIf="quizStep === 'result'" class="text-center p-4">
    <h2 class="mb-4">Seu veículo Ford é:</h2>
    <img [src]="resultadoImagem" alt="Resultado" class="img-fluid mb-4" style="max-height: 300px;">
    <button class="btn btn-success btn-lg w-100">Compare com outros modelos</button>
  </div>

</div>
